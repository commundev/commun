(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{106:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return u})),i.d(t,"metadata",(function(){return s})),i.d(t,"rightToc",(function(){return b})),i.d(t,"default",(function(){return c}));var r=i(1),n=i(6),a=(i(0),i(118)),u={id:"entity-attributes",title:"Entity Attributes",sidebar_label:"Entity Attributes"},s={id:"entity-attributes",title:"Entity Attributes",description:"Attributes define the data that items in the entity can store.",source:"@site/docs/entity-attributes.md",permalink:"/docs/entity-attributes",editUrl:"https://github.com/commundev/commun/edit/master/website/docs/entity-attributes.md",sidebar_label:"Entity Attributes",sidebar:"communSidebar",previous:{title:"Entity Permissions",permalink:"/docs/entity-permissions"}},b=[{value:"Required attributes",id:"required-attributes",children:[]},{value:"Unique attributes",id:"unique-attributes",children:[]},{value:"Attribute Type",id:"attribute-type",children:[{value:"Boolean attributes",id:"boolean-attributes",children:[]},{value:"Date attributes",id:"date-attributes",children:[]},{value:"Email attributes",id:"email-attributes",children:[]},{value:"Enum attributes",id:"enum-attributes",children:[]},{value:"List attributes",id:"list-attributes",children:[]},{value:"Map attributes",id:"map-attributes",children:[]},{value:"Number attributes",id:"number-attributes",children:[]},{value:"Entity Reference attributes",id:"entity-reference-attributes",children:[]},{value:"Slug attributes",id:"slug-attributes",children:[]},{value:"String attributes",id:"string-attributes",children:[]},{value:"User attributes",id:"user-attributes",children:[]}]}],l={rightToc:b};function c(e){var t=e.components,i=Object(n.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Attributes define the data that items in the entity can store.\nEvery entity comes with three attributes: ",Object(a.b)("inlineCode",{parentName:"p"},"ID"),", ",Object(a.b)("inlineCode",{parentName:"p"},"createdAt")," and ",Object(a.b)("inlineCode",{parentName:"p"},"updatedAt"),".\nThere are no limits in the number of attributes that each entity can have."),Object(a.b)("h3",{id:"required-attributes"},"Required attributes"),Object(a.b)("p",null,"Each attribute can specify whether it is required or not.\nNew items must contain values for all required attributes, otherwise the creation fails with an error explaining which\nattributes are missing. "),Object(a.b)("h3",{id:"unique-attributes"},"Unique attributes"),Object(a.b)("p",null,"The value of an attribute marked as unique can only exist once within the entity.\nA MongoDB index is created for every attribute marked as unique."),Object(a.b)("h2",{id:"attribute-type"},"Attribute Type"),Object(a.b)("h3",{id:"boolean-attributes"},"Boolean attributes"),Object(a.b)("p",null,"Boolean attributes can only store the values ",Object(a.b)("inlineCode",{parentName:"p"},"true")," or ",Object(a.b)("inlineCode",{parentName:"p"},"false"),".\nThe value will be stored and returned as a native JSON boolean type. "),Object(a.b)("h3",{id:"date-attributes"},"Date attributes"),Object(a.b)("p",null,"Date attributes accept a date in the following formats:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"An integer value representing the number of milliseconds since January 1, 1970, 00:00:00 UTC."),Object(a.b)("li",{parentName:"ul"},"A string value representing a date, specified in a format recognized by the JavaScript Date.parse() method.")),Object(a.b)("p",null,"The value of a date attribute is returned as a string in simplified extended ISO format\n(",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"http://en.wikipedia.org/wiki/ISO_8601"}),"ISO 8601"),"), which is always 24 or 27 characters long. The timezone is always\nzero UTC offset."),Object(a.b)("h3",{id:"email-attributes"},"Email attributes"),Object(a.b)("p",null,"Email attributes only accept strings containing valid email addresses."),Object(a.b)("h3",{id:"enum-attributes"},"Enum attributes"),Object(a.b)("p",null,"In enum attributes a list of accepted values can be specified.\nOnly values in the list will be accepted when creating an item."),Object(a.b)("h3",{id:"list-attributes"},"List attributes"),Object(a.b)("p",null,"List attributes accept an array of values.\nIn list attributes a List Type can be set. Arrays are only accepted if every element in the array has the specified type."),Object(a.b)("h3",{id:"map-attributes"},"Map attributes"),Object(a.b)("p",null,"Map attributes accept an object with key-value pairs.\nThe type of the key and the attribute can be specified. Maps are only accepted if every key and value respect the specified types."),Object(a.b)("h3",{id:"number-attributes"},"Number attributes"),Object(a.b)("p",null,"Number attributes only accept native JSON numbers.\nOptionally, the minimum and maximum accepted values can be set. Only numbers in that range will be accepted."),Object(a.b)("h3",{id:"entity-reference-attributes"},"Entity Reference attributes"),Object(a.b)("p",null,"Entity reference attributes accept IDs for items belonging to the same or a different entity."),Object(a.b)("p",null,"When fetching data using the ",Object(a.b)("strong",{parentName:"p"},"Rest API"),", the ",Object(a.b)("inlineCode",{parentName:"p"},"populate")," query parameter can be used to fetch the referenced item.\nFor example, the user of an item can be fetched with the API ",Object(a.b)("inlineCode",{parentName:"p"},"/api/v1/<entity>/<id>?populate=user"),"."),Object(a.b)("p",null,"When fetching data using ",Object(a.b)("strong",{parentName:"p"},"GraphQL"),", the referenced item can be fetched using a sub selection.\nFor example, the user of an item can be fetched with the query ",Object(a.b)("inlineCode",{parentName:"p"},"item { user { email, username, ... } }")),Object(a.b)("h3",{id:"slug-attributes"},"Slug attributes"),Object(a.b)("p",null,"Slug attributes allow to create an URL friendly value from a different attribute.\nThese attributes are useful to create SEO friendly URLs."),Object(a.b)("p",null,"In order to create a slug attribute you need to select a string type attribute from which the slug will be generated.\nOptionally, you can set random prefixes and/or suffixes to be added to the generated attribute."),Object(a.b)("p",null,"For example, if a slug is generated from a ",Object(a.b)("inlineCode",{parentName:"p"},"title")," attribute with a random suffix of 8 characters,\nand the item's title is ",Object(a.b)("inlineCode",{parentName:"p"},"Sample Title"),", the resulting slug will look like ",Object(a.b)("inlineCode",{parentName:"p"},"sample-title-e32643b3"),"."),Object(a.b)("h3",{id:"string-attributes"},"String attributes"),Object(a.b)("p",null,"String attributes accept only native JSON strings.\nOptionally, a maximum length can be set, in which case values with more characters than the defined number will be rejected."),Object(a.b)("p",null,"String attributes support a ",Object(a.b)("strong",{parentName:"p"},"Hash")," setting.\nEnabling this setting will hash the given string using the selected algorithm.\nAfter the string is hashed, the original value cannot be recovered.\nBy default user passwords and tokens are stored using this setting."),Object(a.b)("h3",{id:"user-attributes"},"User attributes"),Object(a.b)("p",null,"User attributes are a special type of Entity Reference attributes.\nWhen creating an item, this attribute will be automatically fill with the authenticated user ID."),Object(a.b)("p",null,"This attribute is useful to store the user who created the resource.\nIt allows the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/entity-permissions#the-user-who-owns-the-resource"}),"own permission")," to be set on the entity."))}c.isMDXComponent=!0},118:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return h}));var r=i(0),n=i.n(r);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=n.a.createContext({}),c=function(e){var t=n.a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):s({},t,{},e)),i},o=function(e){var t=c(e.components);return n.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},d=Object(r.forwardRef)((function(e,t){var i=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,l=b(e,["components","mdxType","originalType","parentName"]),o=c(i),d=r,h=o["".concat(u,".").concat(d)]||o[d]||p[d]||a;return i?n.a.createElement(h,s({ref:t},l,{components:i})):n.a.createElement(h,s({ref:t},l))}));function h(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=i.length,u=new Array(a);u[0]=d;var s={};for(var b in t)hasOwnProperty.call(t,b)&&(s[b]=t[b]);s.originalType=e,s.mdxType="string"==typeof e?e:r,u[1]=s;for(var l=2;l<a;l++)u[l]=i[l];return n.a.createElement.apply(null,u)}return n.a.createElement.apply(null,i)}d.displayName="MDXCreateElement"}}]);